Menu="Main:1"
Title="Array Devices"
Tag="database"
Cond="(_var($var,'SYS_ARRAY_SLOTS') > 0 || $var['fsState']=='Stopped')"
---
<?PHP
/* Copyright 2005-2023, Lime Technology
 * Copyright 2012-2023, Bergware International.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License version 2,
 * as published by the Free Software Foundation.
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 */
$power = _var($display,'power') && in_array('nvme',array_column(main_filter($disks),'transport')) ? _('Power').' / ' : '';
?>
<script>
<?if (_var($var,'fsState')=="Started"):?>
$('#tab1').bind({click:function() {$('i.toggle').show('slow');}});
<?endif;?>
</script>
<div class="TableContainer">
    <table class="unraid disk_status">
        <thead>
            <tr>
                <td>_(Device)_</td>
                <td>_(Identification)_</td>
                <td><?=$power?>_(Temp)_</td>
                <td>_(Reads)_</td>
                <td>_(Writes)_</td>
                <td>_(Errors)_</td>
                <td>_(FS)_</td>
                <td>_(Size)_</td>
                <td>_(Used)_</td>
                <td>_(Free)_</td>
            </tr>
        </thead>
        <tbody id="array_devices">
            <? foreach (main_filter($disks) as $disk) :?>
                <? if (substr($disk['status'],0,7) != 'DISK_NP') :?>
                    <tr><td colspan='10'></td></tr>
                <? endif;?>
            <? endforeach;?>
            <? if (_var($display,'total') && _var($var,'mdNumDisks',0) > 1) :?>
                <tr class='tr_last'><td colspan='10'></td></tr>
            <? endif;?>
        </tbody>
    </table>
</div>
> _(**Colored Status Indicator** the significance of the color indicator at the beginning of each line in *Array Devices* is as follows:)_
>
> _(<i class='fa fa-circle orb green-orb'></i>Normal operation, device is active.)_
>
> _(<i class='fa fa-circle orb grey-orb'></i>Device is in standby mode (spun-down).)_
>
> _(<i class='fa fa-warning orb yellow-orb'></i>Device contents emulated.)_
>
> _(<i class='fa fa-times orb red-orb'></i>Device is disabled, contents emulated.)_
>
> _(<i class='fa fa-square orb blue-orb'></i>New device.)_
>
> _(<i class='fa fa-square orb grey-orb'></i>No device present, position is empty.)_
>
> _(**Identification** is the *signature* that uniquely identifies a storage device. The signature)_
> _(includes the device model number, serial number, linux device id, and the device size.)_
>
> _(**Temp.** (temperature) is read directly from the device. You configure which units to use on)_
> _(the [Display Preferences](Settings/DisplaySettings) page.  We do not read the temperature of spun-down hard)_
> _(drives since this typically causes them to spin up; instead we display the `*` symbol.  We also)_
> _(display the `*` symbol for SSD and Flash devices, though sometimes these devices do report a valid)_
> _(temperature, and sometimes they return the value `0`.)_
>
> _(**Size, Used, Free** reports the total device size, used space, and remaining space for files.  These)_
> _(units are also configured on the [Display Preferences](Settings/DisplaySettings) page.  The)_
> _(amount of space used will be non-zero even for an empty disk due to file system overhead.)_
>
> _(*Note: for a multi-device cache pool, this data is for the entire pool as returned by btrfs.*)_
>
> _(**Reads, Writes** are a count of I/O requests sent to the device I/O drivers.  These statistics may)_
> _(be cleared at any time, refer to the Array Status section below.)_
>
> _(**Errors** counts the number of *unrecoverable* errors reported by the device)_
> _(I/O drivers. Missing data due to unrecoverable array read errors is filled in on-the-fly using parity)_
> _(reconstruct (and we attempt to write this data back to the sector(s) which failed). Any unrecoverable)_
> _(write error results in *disabling* the disk.)_
>
> _(**FS** indicates the file system detected in partition 1 of the device.)_
>
> _(**View** column contains a folder icon indicating the device is *mounted*. Click the icon to)_
> _(browse the file system.)_
>
> _(If "Display array totals" is enable on the [Display Preferences](Settings/DisplaySettings) page, a)_
> _(**Total** line is included which provides a tally of the device statistics, including the average temperature)_
> _(of your devices.)_
>
> _(The Array must be Stopped in order to change Array device assignments.)_
>
> _(An unRAID array consists of one or two Parity disks and a number of Data disks. The Data)_
> _(disks are exclusively used to store user data, and the Parity disk(s) provides the redundancy necessary)_
> _(to recover from disk failures.)_
>
> _(Since data is not striped across the array, the Parity disk(s) must be as large, or larger than the largest Data)_
> _(disk.  Parity should also be your highest performance drive.)_
>
> _(Each Data disk has its own file system and can be exported as a)_
> _(separate share.)_
>
> _(Click on the Device name to configure individual device settings and launch certain utilities.)_

<?if (_var($var,'fsState')=="Stopped"):?>
> **Slots** select the number of device slots in your server designated for Array devices.
> The minimum number of Array slots is 2, and you must have at least one device assigned to the array.
<?endif;?>